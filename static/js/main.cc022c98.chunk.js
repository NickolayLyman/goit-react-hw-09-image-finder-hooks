(this["webpackJsonpgoit-react-hw-09-image-finder-hooks"]=this["webpackJsonpgoit-react-hw-09-image-finder-hooks"]||[]).push([[0],{14:function(e,t,a){e.exports={item:"GalleryItem_item__15XGn",image:"GalleryItem_image__2fo8E",btn:"GalleryItem_btn__2CYqK"}},37:function(e,t,a){e.exports={list:"Gallery_list__3sIBA"}},44:function(e,t,a){},8:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3tFew",modal:"Modal_modal__1ZoSy",image:"Modal_image__pRrCq",btn:"Modal_btn__28iV-"}},9:function(e,t,a){e.exports={header:"AppBar_header__1i4ta",form:"AppBar_form__1kaEG",input:"AppBar_input__19ras",button:"AppBar_button__26_Y6"}},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(43),a(44),a(21)),i=a(4),u=a(7),l=a(34),b=a.n(l),j=a(20),m=a.n(j),f=a(35),d=a(13),p=a.n(d);function O(){return(O=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({params:{q:t,page:a}});case 3:return n=e.sent,r=n.data,e.abrupt("return",r.hits);case 8:e.prev=8,e.t0=e.catch(0),new Error("No respose from server");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}p.a.defaults.baseURL="https://pixabay.com/api/",p.a.defaults.params={key:"19823143-e5d054b038f568b2343c680be",imgType:"photo",orientation:"horizontal",per_page:12};var h=function(e,t){return O.apply(this,arguments)},_=a(36),v=(a(92),a(8)),g=a.n(v),x=a(22),y=a(38),w=a(1);var k=function(e){var t=e.value,a=Object(y.a)(e,["value"]);return Object(w.jsx)("button",Object(x.a)(Object(x.a)({},a),{},{children:t}))},S=document.querySelector("#modal-root"),C=function(e){var t=e.src,a=e.alt,r=e.onClose,o=Object(n.useState)(!1),s=Object(i.a)(o,2),u=s[0],l=s[1];Object(n.useEffect)((function(){return window.addEventListener("keydown",b),function(){window.removeEventListener("keydown",b)}}));var b=function(e){"Escape"===e.code&&r()};return Object(c.createPortal)(Object(w.jsx)("div",{className:g.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(w.jsxs)("div",{className:g.a.modal,children:[u&&Object(w.jsx)(k,{onClick:r,className:g.a.btn,type:"button",value:"X"}),Object(w.jsx)("img",{onLoad:function(){l(!0)},src:t,alt:a,className:g.a.image})]})}),S)},N=a(14),E=a.n(N),L=function(e){var t=e.src,a=e.alt,r=e.largeImageURL,c=e.id,o=e.onClick,s=Object(n.useState)(!1),u=Object(i.a)(s,2),l=u[0],b=u[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),f=m[0],d=m[1],p=function(){d(!f)},O=function(){b(!l)};return Object(w.jsxs)("li",{className:E.a.item,onMouseEnter:p,onMouseLeave:p,children:[f&&Object(w.jsx)(k,{onClick:function(){return o(c)},className:E.a.btn,type:"button",value:"X"}),Object(w.jsx)("img",{className:E.a.image,src:t,alt:a,onClick:O}),l&&Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(C,{onClose:O,src:r,alt:a})})]})},I=a(37),B=a.n(I),M=function(e){var t=e.images,a=e.onClick;return Object(w.jsx)("ul",{className:B.a.list,children:t.map((function(e){var t=e.webformatURL,n=e.tags,r=e.largeImageURL,c=e.id;return Object(w.jsx)(L,{id:c,onClick:a,src:t,alt:n,largeImageURL:r},c)}))})},G=a(9),R=a.n(G),q=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(w.jsx)("header",{className:R.a.header,children:Object(w.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c)return u.b.warn("Please enter your query");t(c),o("")},className:R.a.form,children:[Object(w.jsx)("input",{className:R.a.input,type:"text",autoComplete:"off",placeholder:"Search images and photo",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),Object(w.jsx)(k,{type:"submit",className:R.a.button,value:"Search"})]})})},A="idle",T="pending",U="resolved",X="rejected",D=function(){var e=Object(n.useState)(A),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),o=Object(i.a)(c,2),l=o[0],j=o[1],m=Object(n.useState)(""),f=Object(i.a)(m,2),d=f[0],p=f[1],O=Object(n.useState)(1),v=Object(i.a)(O,2),g=v[0],x=v[1],y=Object(n.useState)([]),S=Object(i.a)(y,2),C=S[0],N=S[1];Object(n.useEffect)((function(){if(d){r(T),h(d,g).then((function(e){return N((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))}))})).catch((function(e){j(e),r(X)})).finally((function(){return r(U)})),_.animateScroll.scrollToBottom()}}),[d,g,l]);return Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(q,{onSubmit:function(e){e!==d&&(p(e),x(1),N([]))}}),Object(w.jsx)(u.a,{position:"top-center",autoClose:3e3}),a===X&&u.b.warn("Error"),C.length>0&&Object(w.jsx)(M,{images:C,onClick:function(e){var t=C.filter((function(t){return t.id!==e}));N(t)}}),a===U&&Object(w.jsx)(k,{onClick:function(){x((function(e){return e+1}))},value:"Load more",className:"load-more"}),a===T&&Object(w.jsx)(b.a,{type:"ThreeDots",color:"blue",height:80,width:80})]})};o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(D,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.cc022c98.chunk.js.map